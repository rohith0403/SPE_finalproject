(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},142:function(e,t,n){},165:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},301:function(e,t,n){},304:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(39),c=n.n(r),s=(n(165),n(13)),i=n.n(s),l=(n(101),n(19)),u=n.n(l),d=n(36),b=n(15),h=n(2),j=Object(a.createContext)();function p(e){var t=Object(a.useState)(void 0),n=Object(b.a)(t,2),o=n[0],r=n[1];function c(){return s.apply(this,arguments)}function s(){return(s=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("http://localhost:5000/auth/loggedIn");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){c()}),[]),Object(h.jsx)(j.Provider,{value:{loggedIn:o,getLoggedIn:c},children:e.children})}var g,m=j,O=n(18),f=n(12),v=n(30),x=n(78),y=Object(x.b)({name:"userId",initialState:{value:"",books:[]},reducers:{setValue:function(e,t){e.value=t.payload},addBook:function(e,t){console.log(e.books),e.books.push(t.payload)},getBooks:function(e,t){e.books=t.payload}}}),C=y.actions,k=C.setValue,S=C.addBook,T=C.getBooks,I=y.reducer;n(102);var N=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),c=Object(b.a)(r,2),s=c[0],l=c[1],j=Object(v.c)(),p=Object(a.useContext)(m).getLoggedIn,x=Object(f.g)();function y(){return(y=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={username:n,password:s},e.next=5,i.a.post("http://localhost:5000/auth/login",a).then((function(e){console.log(e.data),g=e.data,j(k(g))}));case 5:p(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:x.push("/dashboard");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"login",children:Object(h.jsxs)("form",{className:"login__form",onSubmit:function(e){return y.apply(this,arguments)},children:[Object(h.jsx)("h1",{children:"Login here \ud83d\udeaa"}),Object(h.jsx)("input",{type:"username",placeholder:"Username",value:n,onChange:function(e){return o(e.target.value)}}),Object(h.jsx)("input",{type:"password",value:s,placeholder:"Password",onChange:function(e){return l(e.target.value)}}),Object(h.jsx)("button",{type:"submit",className:"submit__btn",children:"Submit"}),Object(h.jsx)("div",{className:"text-center pt-3",children:" If you do not have an account, sign up"}),Object(h.jsx)(O.b,{to:"/register",children:Object(h.jsx)("button",{type:"submit",className:"submit__btn",children:"Create an account"})})]})})};var E=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),c=Object(b.a)(r,2),s=c[0],l=c[1],j=Object(a.useContext)(m).getLoggedIn,p=Object(f.g)();function g(){return(g=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={username:n,password:s},e.next=5,i.a.post("http://localhost:5000/auth/",a);case 5:j(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:p.push("/dashboard");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"login",children:Object(h.jsxs)("form",{className:"login__form",onSubmit:function(e){return g.apply(this,arguments)},children:[Object(h.jsx)("h1",{children:"Register here \ud83d\udeaa"}),Object(h.jsx)("input",{type:"username",placeholder:"Username",value:n,onChange:function(e){return o(e.target.value)}}),Object(h.jsx)("input",{type:"password",value:s,placeholder:"Password",onChange:function(e){return l(e.target.value)}}),Object(h.jsx)("button",{type:"submit",className:"submit__btn",children:"Submit"}),Object(h.jsx)("div",{className:"text-center pt-3",children:" If you already have an account, sign in"}),Object(h.jsx)(O.b,{to:"/login",children:Object(h.jsx)("button",{type:"submit",className:"submit__btn",children:"Log in"})})]})})},w=n(153),B=n(75),_=n(148),R=n.n(_),K=n(151),D=n.n(K),L=n(149),F=n.n(L),U=n(152);var M=function(){var e=Object(a.useContext)(m).getLoggedIn,t=Object(f.g)();function n(){return(n=Object(d.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.get("http://localhost:5000/auth/logout");case 2:return n.next=4,e();case 4:t.push("/");case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(h.jsx)("btn",{onClick:function(){return n.apply(this,arguments)},children:"Log out"})},H=n(150),P=n.n(H),q=[{title:"Home",path:"/dashboard",icon:Object(h.jsx)(B.a,{}),cName:"nav-text"},{title:"Browse",icon:Object(h.jsx)(R.a,{}),link:"/browse",cName:"nav-text"},{title:"Reading",icon:Object(h.jsx)(F.a,{}),path:"/reading",cName:"nav-text"},{title:"Add Book",icon:Object(h.jsx)(P.a,{}),path:"/newbook",cName:"nav-text"},{title:"Editor",path:"/editor",icon:Object(h.jsx)(D.a,{}),cName:"nav-text"},{title:Object(h.jsx)(M,{}),icon:Object(h.jsx)(U.a,{}),cName:"nav-text"}],A=(n(195),n(0));var J=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],o=t[1],r=function(){return o(!n)};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(A.b.Provider,{value:{color:"#fff"},children:[Object(h.jsx)("div",{className:"navbar",children:Object(h.jsx)(O.b,{to:"#",className:"menu-bars",children:Object(h.jsx)(w.a,{onClick:r})})}),Object(h.jsx)("nav",{className:n?"nav-menu active":"nav-menu",children:Object(h.jsxs)("ul",{className:"nav-menu-items",onClick:r,children:[Object(h.jsx)("li",{className:"navbar-toggle",children:Object(h.jsx)(O.b,{to:"#",className:"menu-bars",children:Object(h.jsx)(B.b,{})})}),q.map((function(e,t){return Object(h.jsx)("li",{className:e.cName,children:Object(h.jsxs)(O.b,{to:e.path,children:[e.icon,Object(h.jsx)("span",{children:e.title})]})},t)}))]})})]})})},z=n(42),G=n(31),V=n(44),W=n(43),Q=n(329),X=n(336),Y=n(330),Z=n(334),$=n(332),ee=n(331),te=n(335),ne=n(333),ae=(n(196),Object(Q.a)({root:{width:"290px",height:"350px",borderRadius:"var(--rounded)",padding:"0em",marginLeft:"20px",lineHeight:"1.5em",display:"grid",gridGap:"10px",backgroundColor:"white",border:"10px solid var(--blue)",transition:"350ms ease -in -out","&:hover":{transform:"scale(1.02)",boxShadow:"#1DA1F2 2px 2px 8px 4px"}},image:{height:"200px",width:"auto",marginTop:"10px",justifySelf:"center",marginLeft:"80px"},text:{color:"#1DA1F2"},button:{color:"black",marginTop:"0px"}}));function oe(e){var t=ae();return Object(h.jsxs)(X.a,{className:t.root,children:[Object(h.jsxs)(Y.a,{children:[Object(h.jsx)(ee.a,{className:t.image,component:"img",alt:e.title,image:e.img,title:e.tile}),Object(h.jsx)($.a,{children:Object(h.jsx)(ne.a,{className:t.text,gutterBottom:!0,variant:"h10",component:"h2",children:e.title})})]}),Object(h.jsx)(Z.a,{children:Object(h.jsx)(te.a,{className:t.button,size:"small",onClick:function(t){window.open(e.link,"_blank")},children:"Read"})})]})}var re=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(e){var a;return Object(z.a)(this,n),(a=t.call(this,e)).state={searchTerm:"",books:a.props.books},a}return Object(G.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.userId;i.a.get("http://localhost:5000/books").then((function(t){t.data&&e.props.getBooks(t.data)}))}},{key:"render",value:function(){var e=this;return this.state.books.length?Object(h.jsxs)("div",{className:"Search",children:[Object(h.jsx)("input",{class:"input",type:"text",placeholder:"Search for the book here .......",onChange:function(t){e.setState({searchTerm:t.target.value})}}),this.state.books.filter((function(t){return""===e.state.searchTerm||t.title.toLowerCase().includes(e.state.searchTerm.toLowerCase())?t:void 0})).map((function(e,t){return Object(h.jsx)("div",{class:"column",children:Object(h.jsx)(oe,{className:"card",img:e.img,title:e.title,summary:e.summary,link:e.link})},t)}))]}):null}}]),n}(o.a.Component),ce=Object(v.b)((function(e){return{userId:e.userDetails.value,books:e.userDetails.books}}),(function(e){return{addBook:function(t){return e(S(t))},getBooks:function(t){return e(T(t))}}}))(re);var se=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(ce,{})})},ie=n(17),le=n(9),ue=(n(141),n(142),n(76)),de=n.n(ue),be=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(e){var a;return Object(z.a)(this,n),(a=t.call(this,e)).saveContent=de()((function(e){var t=Object(le.convertToRaw)(e).blocks.map((function(e){return e.text.trim()?e.text:"\n"})).join("\n"),n=JSON.stringify({userId:a.props.userId,content:t});console.log(n),i.a.post("http://localhost:5000/editor",n,{headers:{"Content-Type":"application/json"}})}),1e3),a.state={editorState:le.EditorState.createEmpty()},a.focus=function(){return a.refs.editor.focus()},a.onChange=function(e){var t=e.getCurrentContent();a.saveContent(t),a.setState({editorState:e})},a.handleKeyCommand=a._handleKeyCommand.bind(Object(ie.a)(a)),a.mapKeyToEditorCommand=a._mapKeyToEditorCommand.bind(Object(ie.a)(a)),a.toggleBlockType=a._toggleBlockType.bind(Object(ie.a)(a)),a.toggleInlineStyle=a._toggleInlineStyle.bind(Object(ie.a)(a)),a}return Object(G.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("userId is "+this.props.userId),i.a.get("http://localhost:5000/editor?userId="+this.props.userId,{userId:this.props.userId}).then((function(t){console.log("response data is "+t.data),t.data?e.setState({editorState:le.EditorState.createWithContent(le.ContentState.createFromText(t.data))}):e.setState({editorState:le.EditorState.createEmpty()})}))}},{key:"_handleKeyCommand",value:function(e,t){var n=le.RichUtils.handleKeyCommand(t,e);return!!n&&(this.onChange(n),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(le.getDefaultKeyBinding)(e);var t=le.RichUtils.onTab(e,this.state.editorState,4);t!==this.state.editorState&&this.onChange(t)}},{key:"_toggleBlockType",value:function(e){this.onChange(le.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(le.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"render",value:function(){var e=this.state.editorState,t="RichEditor-editor",n=e.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(t+=" RichEditor-hidePlaceholder"),this.state.editorState?Object(h.jsxs)("div",{className:"RichEditor-root",children:[Object(h.jsx)(me,{editorState:e,onToggle:this.toggleBlockType}),Object(h.jsx)(fe,{editorState:e,onToggle:this.toggleInlineStyle}),Object(h.jsx)("div",{className:t,onClick:this.focus,children:Object(h.jsx)(le.Editor,{blockStyleFn:je,customStyleMap:he,editorState:e,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,onChange:this.onChange,placeholder:"Tell a story...",ref:"editor",spellCheck:!0})})]}):Object(h.jsx)("h3",{className:"loading",children:"Loading..."})}}]),n}(o.a.Component),he={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function je(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var pe=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){var e;return Object(z.a)(this,n),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(G.a)(n,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),Object(h.jsx)("span",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),n}(o.a.Component),ge=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}],me=function(e){var t=e.editorState,n=t.getSelection(),a=t.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return Object(h.jsx)("div",{className:"RichEditor-controls",children:ge.map((function(t){return Object(h.jsx)(pe,{active:t.style===a,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},Oe=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],fe=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(h.jsx)("div",{className:"RichEditor-controls",children:Oe.map((function(n){return Object(h.jsx)(pe,{active:t.has(n.style),label:n.label,onToggle:e.onToggle,style:n.style},n.label)}))})},ve=Object(v.b)((function(e){return{userId:e.userDetails.value}}))(be),xe=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(e){var a;return Object(z.a)(this,n),(a=t.call(this,e)).saveContent=de()((function(e){var t=Object(le.convertToRaw)(e).blocks.map((function(e){return e.text.trim()?e.text:"\n"})).join("\n"),n=JSON.stringify({userId:a.props.userId,content:t});console.log(n),i.a.post("http://localhost:5000/editor",n,{headers:{"Content-Type":"application/json"}})}),1e3),a.state={editorState:le.EditorState.createEmpty()},a.focus=function(){return a.refs.editor.focus()},a.onChange=function(e){var t=e.getCurrentContent();a.saveContent(t),a.setState({editorState:e})},a.handleKeyCommand=a._handleKeyCommand.bind(Object(ie.a)(a)),a.mapKeyToEditorCommand=a._mapKeyToEditorCommand.bind(Object(ie.a)(a)),a.toggleBlockType=a._toggleBlockType.bind(Object(ie.a)(a)),a.toggleInlineStyle=a._toggleInlineStyle.bind(Object(ie.a)(a)),a}return Object(G.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("userId is "+this.props.userId),i.a.get("http://localhost:5000/editor?userId="+this.props.userId,{userId:this.props.userId}).then((function(t){console.log("response data is "+t.data),t.data?e.setState({editorState:le.EditorState.createWithContent(le.ContentState.createFromText(t.data))}):e.setState({editorState:le.EditorState.createEmpty()})}))}},{key:"_handleKeyCommand",value:function(e,t){var n=le.RichUtils.handleKeyCommand(t,e);return!!n&&(this.onChange(n),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(le.getDefaultKeyBinding)(e);var t=le.RichUtils.onTab(e,this.state.editorState,4);t!==this.state.editorState&&this.onChange(t)}},{key:"_toggleBlockType",value:function(e){this.onChange(le.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(le.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"render",value:function(){var e=this.state.editorState,t="RichEditor-editor",n=e.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(t+=" RichEditor-hidePlaceholder"),this.state.editorState?Object(h.jsx)("div",{className:"RichEditor-root",children:Object(h.jsx)("div",{className:t,onClick:this.focus,children:Object(h.jsx)(le.Editor,{blockStyleFn:Ce,customStyleMap:ye,editorState:e,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,onChange:this.onChange,placeholder:"Tell a story...",ref:"editor",spellCheck:!0,readOnly:!0})})}):Object(h.jsx)("h3",{className:"loading",children:"Loading..."})}}]),n}(o.a.Component),ye={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function Ce(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}o.a.Component;var ke=Object(v.b)((function(e){return{userId:e.userDetails.value}}))(xe);n(301);var Se=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),c=Object(b.a)(r,2),s=c[0],l=c[1],j=Object(a.useState)(""),p=Object(b.a)(j,2),g=p[0],O=p[1],x=Object(a.useState)(""),y=Object(b.a)(x,2),C=y[0],k=y[1],T=Object(a.useState)(""),I=Object(b.a)(T,2),N=I[0],E=I[1],w=Object(v.c)();function B(){return(B=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={title:n,genre:s,summary:g,img:C,link:N},e.next=5,i.a.post("http://localhost:5000/books/add",a);case 5:w(S(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(a.useContext)(m).getLoggedIn,Object(f.g)(),Object(h.jsx)("div",{className:"book",children:Object(h.jsxs)("form",{className:"book__form",onSubmit:function(e){return B.apply(this,arguments)},children:[Object(h.jsx)("h1",{children:"Add book details"}),Object(h.jsx)("input",{type:"title",placeholder:"Title",value:n,onChange:function(e){return o(e.target.value)}}),Object(h.jsx)("input",{type:"genre",placeholder:"Genre",value:s,onChange:function(e){return l(e.target.value)}}),Object(h.jsx)("input",{type:"Summary",placeholder:"Summary",value:g,onChange:function(e){return O(e.target.value)}}),Object(h.jsx)("input",{type:"img",placeholder:"Image URL",value:C,onChange:function(e){return k(e.target.value)}}),Object(h.jsx)("input",{type:"link",placeholder:"link",value:N,onChange:function(e){return E(e.target.value)}}),Object(h.jsx)("button",{type:"submit",className:"submit__btn",children:"Enter"})]})})};var Te=function(){var e=Object(a.useContext)(m).loggedIn;return Object(h.jsx)(O.a,{children:Object(h.jsxs)(f.d,{children:[Object(h.jsx)(f.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(f.a,{to:"/login"})}}),!1===e&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f.b,{path:"/register",component:E}),Object(h.jsx)(f.b,{path:"/login",component:N})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(J,{}),!0===e&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f.b,{path:"/dashboard",component:se}),Object(h.jsx)(f.b,{path:"/editor",component:ve}),Object(h.jsx)(f.b,{path:"/reading",component:ke}),Object(h.jsx)(f.b,{path:"/newbook",component:Se})]})]})]})})};i.a.defaults.withCredentials=!0;var Ie=function(){return Object(h.jsx)(p,{children:Object(h.jsx)(Te,{})})},Ne=n(91),Ee=n(154),we=n.n(Ee);var Be=function(){var e={key:"root",storage:we.a},t=Object(Ne.a)(e,I),n=Object(x.a)({reducer:{userDetails:t}});return{store:n,persistor:Object(Ne.b)(n)}},_e=n(155),Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,338)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),r(e),c(e)}))},Ke=Be(),De=Ke.store,Le=Ke.persistor;c.a.render(Object(h.jsx)(v.a,{store:De,children:Object(h.jsx)(_e.a,{loading:null,persistor:Le,children:Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(Ie,{})})})}),document.getElementById("root")),Re()}},[[304,1,2]]]);
//# sourceMappingURL=main.5a03e573.chunk.js.map